# 치터 난이도 90% 승률 달성 최적화 계획

## 🎯 목표

**Cheater AI 특성**:
- 자원 보너스 (미네랄/가스 50% 추가)
- 완벽한 마이크로/매크로
- 즉각적인 반응 속도
- 안개 투시 (Fog of War 무시)

**필요 전략**:
- 초반 압박으로 자원 우위 상쇄
- 완벽한 빌드 오더 실행
- 동시다발적 멀티태스킹
- 타이밍 공격 정확도 ±5초
- 자원 효율 98%+

---

## 🚀 Phase 1: 경제 최적화 (0-4분)

### 1.1 초반 드론 생산 극대화
**목표**: 3분에 44 드론 (현재: 17)

**변경사항**:
```python
# economy_manager.py
- 드론 생산 최우선 순위 (0-3분)
- 라바당 드론 생산 비율: 70% → 85%
- 드론 포화도: 16 → 18 드론/기지
- 1분 30초: 2베이스 완료 + 16 드론
- 2분 00초: 3베이스 시작 + 28 드론
- 3분 00초: 4베이스 + 44 드론
```

### 1.2 가스 타이밍 최적화
**목표**: 가스 소비 유닛 적시 생산

**변경사항**:
```python
# economy_manager.py
- 1st Extractor: 17 supply (기존: 14)
- 2nd Extractor: 22 supply (동시에 2개)
- 3rd Extractor: 32 supply
- 4th Extractor: 42 supply
- 가스 일꾼: 기지당 6명 고정
```

### 1.3 확장 타이밍 공격적 전진
**목표**: 상대보다 1분 앞선 확장

**변경사항**:
```python
# economy_manager.py
- 1:20 - 2nd Base (기존: 1:30)
- 2:00 - 3rd Base (기존: 2:15)
- 2:40 - 4th Base (기존: 3:00)
- 3:30 - 5th Base
- 동시 확장: 3개까지 허용
```

---

## ⚔️ Phase 2: 전투력 최적화 (4-8분)

### 2.1 타이밍 공격 시스템
**목표**: 5가지 타이밍 공격 자동화

**공격 타이밍**:
1. **3:30 - 저글링 압박** (24 Lings)
   - 적 3베이스 견제
   - 일꾼 최소 5명 킬

2. **5:00 - Roach 타이밍** (12 Roaches)
   - 기존 6:00 → 5:00으로 앞당김
   - 적 확장 파괴 목표

3. **6:30 - Hydra 타이밍** (12 Hydras + 8 Roaches)
   - 공1업 완료
   - 적 본진 압박

4. **8:00 - 뮤탈 전환** (12 Mutalisks)
   - 멀티 견제
   - 일꾼 학살

5. **9:30 - 종결전** (Maxed Army)
   - 200 supply
   - 공3방3 완료
   - 적 본진 종결

### 2.2 유닛 구성 최적화
**목표**: 종족별 완벽한 카운터 조합

**대 테란**:
```
초반 (0-6분): 저글링 60% + 바퀴 30% + 퀸 10%
중반 (6-10분): 바퀴 40% + 히드라 30% + 뮤탈 20% + 맹독 10%
후반 (10분+): 히드라 35% + 울트라 25% + 뮤탈 20% + 맹독 15% + 살모사 5%
```

**대 프로토스**:
```
초반: 저글링 50% + 바퀴 40% + 퀸 10%
중반: 히드라 45% + 바퀴 30% + 뮤탈 15% + 저글링 10%
후반: 히드라 40% + 러커 25% + 저글링 20% + 살모사 10% + 커럽터 5%
```

**대 저그**:
```
초반: 저글링 60% + 맹독 25% + 퀸 15%
중반: 바퀴 40% + 히드라 30% + 뮤탈 20% + 맹독 10%
후반: 히드라 35% + 울트라 25% + 러커 20% + 뮤탈 15% + 살모사 5%
```

### 2.3 업그레이드 타이밍
**목표**: 공3방3를 9분에 완료

**업그레이드 스케줄**:
```
2:30 - Evolution Chamber 건설
2:50 - 공격력 +1 시작
3:30 - 방어력 +1 시작
4:00 - Lair 완료
4:30 - 공격력 +2 시작
5:00 - 방어력 +2 시작
6:00 - Hive 시작
6:30 - 공격력 +3 시작
7:00 - 방어력 +3 시작
9:00 - 공3방3 완료
```

---

## 🎮 Phase 3: 마이크로 컨트롤 완벽화

### 3.1 포커스 파이어 시스템
**목표**: 고가 유닛 우선 처치

**우선순위**:
```python
1. 공성전차, 거신, 파괴자 (최우선)
2. 의료선, 집정관, 히드라
3. 불곰, 추적자, 바퀴
4. 해병, 광전사, 저글링
```

### 3.2 회피 알고리즘
**목표**: 범위 피해 최소화

**구현**:
- 공성전차 감지 → 분산 대형
- 지뢰 감지 → 자동 회피
- 폭풍함 감지 → 유닛 분산
- 파괴자 감지 → 자동 후퇴

### 3.3 포메이션 유지
**목표**: 전투력 30% 향상

**구현**:
- 오목 대형 (Concave)
- 원거리 유닛 후방 배치
- 탱커 유닛 전방 배치
- 고가 유닛 중앙 보호

---

## 🧠 Phase 4: RL 학습 시스템 강화

### 4.1 State Vector 확장
**기존 (15차원)**:
```
[minerals, gas, supply, army_supply, enemy_army_supply,
 bases, enemy_bases, workers, enemy_workers,
 time, attack_level, defense_level, tech_level,
 upgrade_level, under_attack]
```

**신규 (30차원)**:
```
기존 15차원 +
[enemy_tech_buildings (4), enemy_unit_composition (6),
 our_tech_buildings (4), creep_coverage (1)]
```

### 4.2 Reward 함수 정교화
**기존**:
```python
reward = win * 1000 + survival_time * 10
```

**신규**:
```python
reward = (
    win * 2000 +
    survival_time * 15 +
    resource_advantage * 5 +
    army_advantage * 10 +
    timing_attack_success * 500 +
    base_advantage * 100 +
    worker_advantage * 20 +
    upgrade_advantage * 50 -
    losses * 2
)
```

### 4.3 학습률 동적 조정
**목표**: 치터 AI 특화 학습

**구현**:
```python
# adaptive_learning_rate.py
if opponent_difficulty == "CheatVision" or opponent_difficulty == "CheatMoney":
    initial_lr = 0.005  # 더 빠른 학습
    epsilon_decay = 0.99  # 더 느린 탐험 감소
else:
    initial_lr = 0.001
    epsilon_decay = 0.995
```

---

## 🛡️ Phase 5: 방어 시스템 완벽화

### 5.1 조기 경보 시스템
**목표**: 적 공격 30초 전 감지

**구현**:
- 오버로드 전방 배치 (적 본진 근처)
- 저글링 정찰 (맵 전역)
- 변화 감지 (적 유닛 급증)

### 5.2 긴급 방어 프로토콜
**목표**: 기지 손실 0%

**구현**:
```python
# defense_coordinator.py
if enemy_near_base > 10:
    # 1. 모든 일꾼 대피
    # 2. 퀸 전원 집결
    # 3. 가장 가까운 군대 소환
    # 4. 긴급 유닛 생산 (저글링 max)
    # 5. Spine Crawler 긴급 건설
```

### 5.3 멀티 방어 자동화
**목표**: 확장 기지 방어 100%

**구현**:
- 각 기지마다 1 Spine + 1 Spore
- 2 Queen 상주
- 감지 범위 내 적 발견 시 자동 대응

---

## 🔄 Phase 6: 멀티태스킹 완벽화

### 6.1 동시 작전 시스템
**목표**: 3개 작전 동시 수행

**작전 목록**:
1. **본대 공격** (Combat Manager)
   - 주력 부대로 적 본진 압박

2. **멀티 견제** (Harassment Manager)
   - 저글링/뮤탈로 적 확장 파괴

3. **확장 방어** (Defense Coordinator)
   - 아군 기지 방어

### 6.2 자원 분배 알고리즘
**목표**: 자원 효율 98%+

**우선순위**:
```
1. 일꾼 생산 (0-5분)
2. 확장 건설
3. 군대 생산
4. 업그레이드
5. 테크 건물
6. 방어 건물
```

---

## 📊 Phase 7: 성능 측정 및 개선

### 7.1 핵심 지표 (KPI)
```
1. 승률: 90%+ (목표)
2. 평균 게임 시간: 10분
3. 자원 효율: 98%+
4. 일꾼 수 (3분): 44 (목표)
5. 일꾼 수 (5분): 66 (목표)
6. 군대 supply (8분): 150+ (목표)
7. 업그레이드 (9분): 공3방3 (목표)
8. 최대 기지 수: 5+ (목표)
```

### 7.2 A/B 테스트
```
Test 1: 경제 우선 vs 공격 우선
Test 2: Roach Rush vs Hydra Timing
Test 3: 뮤탈 견제 vs 저글링 견제
Test 4: 빠른 확장 vs 방어 건물
Test 5: 공업 우선 vs 방업 우선
```

### 7.3 학습 곡선 추적
```python
# 100게임마다 측정
- 승률 변화
- 평균 게임 시간
- 자원 효율
- 타이밍 정확도
- 멀티태스킹 점수
```

---

## 🎯 구현 순서

### Step 1: 경제 최적화 (최우선)
- [ ] 드론 생산 85% 비율
- [ ] 확장 타이밍 앞당기기
- [ ] 가스 타이밍 최적화

### Step 2: 타이밍 공격 구현
- [ ] 3:30 저글링 압박
- [ ] 5:00 Roach Rush (기존 6:00)
- [ ] 6:30 Hydra 타이밍
- [ ] 8:00 뮤탈 전환

### Step 3: 마이크로 강화
- [ ] 포커스 파이어
- [ ] 회피 알고리즘
- [ ] 포메이션 유지

### Step 4: RL 시스템 업그레이드
- [ ] State Vector 30차원 확장
- [ ] Reward 함수 정교화
- [ ] 학습률 동적 조정

### Step 5: 방어 완벽화
- [ ] 조기 경보 시스템
- [ ] 긴급 방어 프로토콜
- [ ] 멀티 방어 자동화

### Step 6: 멀티태스킹
- [ ] 동시 작전 시스템
- [ ] 자원 분배 알고리즘

### Step 7: 테스트 및 튜닝
- [ ] 100게임 테스트
- [ ] 승률 측정
- [ ] 최종 튜닝

---

## 📈 예상 결과

### Before (현재)
```
승률: 8.57% vs Easy
레어: 4:30
스포어: 4:11
드론 (3분): 17
자원 효율: 75%
```

### After (목표)
```
승률: 90%+ vs Cheater
레어: 3:30
스포어: 3:00
드론 (3분): 44
자원 효율: 98%+
타이밍 공격: 5개 자동화
멀티태스킹: 3개 동시 작전
```

---

**작성일**: 2026-01-28
**목표**: 치터 난이도 90% 승률
**예상 소요 시간**: 200-300 게임 학습
