# 클로드 코드 작업 템플릿

**작성 일시**: 2026-01-15  
**목적**: 클로드 코드에게 구체적으로 요청할 수 있는 작업 템플릿

---

## ? 작업 카테고리

### 1. 중복 코드 제거
### 2. 코드 품질 개선
### 3. 파일 구조 재구성
### 4. 클래스 분리 및 통합
### 5. 의존성 최적화
### 6. 문서 자동 생성

---

## ? 작업 템플릿

### 템플릿 1: 중복 함수 통합

```
REFACTORING_ANALYSIS_REPORT.md의 '중복 함수' 섹션을 분석하고,
다음 작업을 수행해줘:

1. 중복 함수들을 분석하여 공통 패턴 식별
2. utils/common.py 파일 생성 (없으면)
3. 공통 함수를 utils/common.py에 추가
4. 모든 중복 함수 사용 위치를 공통 함수 호출로 변경
5. 변경된 파일들을 검증 (syntax check)
6. 변경 사항을 요약하여 리포트 생성

주의사항:
- 기존 기능이 손상되지 않도록 주의
- 각 파일의 컨텍스트를 고려하여 수정
- 변경 후 테스트 실행 권장
```

### 템플릿 2: 긴 함수 분리

```
REFACTORING_ANALYSIS_REPORT.md의 '긴 함수' 섹션을 분석하고,
다음 작업을 수행해줘:

1. 긴 함수들을 분석하여 논리적 단위로 분리
2. 각 함수를 최대 50줄 이하로 분리
3. 단일 책임 원칙을 준수하도록 함수 이름 명확화
4. 변경된 파일들을 검증 (syntax check)
5. 변경 사항을 요약하여 리포트 생성

주의사항:
- 함수 간 의존성을 고려
- 변수 스코프 주의
- 기존 기능 유지
```

### 템플릿 3: 복잡한 함수 단순화

```
REFACTORING_ANALYSIS_REPORT.md의 '복잡한 함수' 섹션을 분석하고,
다음 작업을 수행해줘:

1. 복잡한 함수들을 분석하여 순환 복잡도를 10 이하로 낮추기
2. 조건문을 early return 패턴으로 변경
3. 복잡한 로직을 헬퍼 함수로 분리
4. 중첩된 조건문을 평탄화
5. 변경된 파일들을 검증 (syntax check)
6. 변경 사항을 요약하여 리포트 생성

주의사항:
- 로직의 정확성 유지
- 가독성 향상에 중점
- 테스트 실행 권장
```

### 템플릿 4: 파일 구조 재구성

```
LARGE_SCALE_REFACTORING_PLAN.md를 읽고 파일 구조를 재구성해줘:

1. 새로운 디렉토리 구조 생성
   - core/ (핵심 봇 로직)
   - core/managers/ (매니저 클래스들)
   - core/utils/ (공통 유틸리티)
   - training/ (훈련 관련)
   - tools/ (유틸리티 도구)
   - monitoring/ (모니터링)
   - docs/ (문서)

2. 파일 이동
   - 관련 파일들을 적절한 디렉토리로 이동

3. Import 경로 업데이트
   - 모든 파일의 import 문을 새로운 경로에 맞게 수정

4. 변경 사항 검증
   - syntax check
   - import 검증

5. 변경 사항을 요약하여 리포트 생성

주의사항:
- Git을 사용하여 변경 사항 추적
- 단계별로 커밋 권장
- 테스트 실행 필수
```

### 템플릿 5: 클래스 분리

```
LARGE_SCALE_REFACTORING_PLAN.md의 '클래스 분리 및 통합 제안'을 
기반으로 다음 클래스들을 분리해줘:

1. CombatManager (combat_manager.py, 22개 메서드)
   - 기능별로 여러 클래스로 분리
   - 예: CombatCore, CombatTactics, CombatMicro

2. ReplayDownloader (tools/download_and_train.py, 25개 메서드)
   - 기능별로 여러 클래스로 분리
   - 예: ReplayDownloaderCore, ReplayDownloaderManager

작업 순서:
1. 각 클래스의 책임 분석
2. 기능별로 여러 클래스로 분리
3. 의존성 업데이트
4. 변경 사항 검증
5. 변경 사항을 요약하여 리포트 생성

주의사항:
- 단일 책임 원칙 준수
- 기존 기능 유지
- 테스트 실행 필수
```

### 템플릿 6: 의존성 최적화

```
LARGE_SCALE_REFACTORING_PLAN.md의 '의존성 최적화 제안'을 
기반으로 의존성을 최적화해줘:

1. 순환 의존성 찾기
   - 프로젝트 전체를 분석하여 순환 의존성 식별

2. 공통 유틸리티 모듈 생성
   - core/utils/common.py에 공통 함수 통합
   - 중복 import 제거

3. 인터페이스 추상화
   - 공통 인터페이스 정의
   - 의존성 역전 원칙 적용

4. 순환 의존성 제거
   - 의존성 그래프 재구성
   - 공통 모듈로 의존성 분리

5. 변경 사항 검증
   - import 검증
   - 실행 테스트

6. 변경 사항을 요약하여 리포트 생성

주의사항:
- 기존 기능 유지
- 점진적 개선
- 테스트 실행 필수
```

### 템플릿 7: 사용하지 않는 import 제거

```
CODE_DIET_ANALYSIS_REPORT.md를 읽고 사용하지 않는 import를 제거해줘:

1. 리포트에 나열된 사용하지 않는 import 확인
2. 각 파일에서 사용하지 않는 import 제거
3. 변경 사항 검증 (syntax check)
4. 변경 사항을 요약하여 리포트 생성

주의사항:
- 간접 사용 가능한 import는 제거하지 않음
- 표준 라이브러리는 신중하게 판단
- 변경 후 테스트 실행 권장
```

### 템플릿 8: 코드 스타일 통일

```
CONTINUOUS_IMPROVEMENT_REPORT.md를 읽고 코드 스타일을 통일해줘:

1. 발견된 스타일 이슈 분석
2. PEP 8 준수하도록 수정
   - 줄 길이 100자 이하
   - 탭을 공백으로 변환
   - 연속된 공백 정리
3. 변경 사항 검증
4. 변경 사항을 요약하여 리포트 생성

주의사항:
- 기존 로직 변경 없음
- 스타일만 수정
- 변경 후 테스트 실행 권장
```

### 템플릿 9: 문서 자동 생성 및 업데이트

```
다음 작업을 수행해줘:

1. docs/API_DOCUMENTATION.md를 읽고 README.md 업데이트
2. docs/README_UPDATE_PROPOSAL.md의 제안을 반영
3. 프로젝트 구조 섹션 추가
4. 주요 모듈 설명 추가
5. API 문서 링크 추가
6. 사용 예제 추가

주의사항:
- 기존 README.md의 내용 보존
- 새로운 섹션 추가
- 링크 및 형식 확인
```

### 템플릿 10: 종합 개선 작업

```
다음 작업들을 순차적으로 수행해줘:

1. REFACTORING_ANALYSIS_REPORT.md 분석
2. 중복 함수 통합 (상위 10개 우선)
3. 긴 함수 분리 (상위 10개 우선)
4. 사용하지 않는 import 제거
5. 코드 스타일 통일
6. 변경 사항 검증
7. 종합 리포트 생성

각 단계마다:
- 변경 사항 요약
- 검증 결과
- 다음 단계 제안

주의사항:
- 단계별로 커밋 권장
- 각 단계마다 테스트 실행
- 문제 발생 시 롤백 가능하도록
```

---

## ? 사용 방법

### Step 1: 리포트 확인
```bash
# 생성된 리포트 확인
type REFACTORING_ANALYSIS_REPORT.md
type LARGE_SCALE_REFACTORING_PLAN.md
type CONTINUOUS_IMPROVEMENT_REPORT.md
```

### Step 2: 클로드 코드 실행
```bash
# 클로드 코드 실행
claude
```

### Step 3: 작업 요청
위의 템플릿 중 하나를 선택하여 클로드 코드에게 요청

### Step 4: 결과 검증
```bash
# 변경 사항 검증
python tools\claude_code_executor.py --validate [변경된 파일들]

# 테스트 실행
python tools\claude_code_executor.py --test
```

---

## ? 작업 우선순위

### 즉시 작업 (우선순위: 높음)
1. ? 사용하지 않는 import 제거 (템플릿 7)
2. ? 코드 스타일 통일 (템플릿 8)
3. ? 중복 함수 통합 (템플릿 1, 상위 10개)

### 단기 작업 (우선순위: 중간)
4. ? 긴 함수 분리 (템플릿 2, 상위 10개)
5. ? 복잡한 함수 단순화 (템플릿 3, 상위 10개)
6. ? 의존성 최적화 (템플릿 6)

### 장기 작업 (우선순위: 낮음)
7. ? 파일 구조 재구성 (템플릿 4)
8. ? 클래스 분리 (템플릿 5)
9. ? 문서 자동 생성 (템플릿 9)

---

## ? 팁

### 효과적인 요청 방법

1. **구체적인 요청**
   - ? "코드를 개선해줘"
   - ? "템플릿 1을 사용하여 중복 함수를 통합해줘"

2. **단계별 확인**
   - 큰 작업은 작은 단계로 나누기
   - 각 단계마다 검증하기

3. **리포트 활용**
   - 생성된 리포트를 참조하여 구체적으로 요청
   - 리포트의 파일 경로와 라인 번호 활용

---

## ? 참고 문서

- [리팩토링 분석 리포트](./REFACTORING_ANALYSIS_REPORT.md)
- [대규모 리팩토링 계획](./LARGE_SCALE_REFACTORING_PLAN.md)
- [지속적인 개선 리포트](./CONTINUOUS_IMPROVEMENT_REPORT.md)
- [코드 다이어트 분석 리포트](./CODE_DIET_ANALYSIS_REPORT.md)
- [클로드 코드 완전 활용 가이드](./CLAUDE_CODE_COMPLETE_GUIDE.md)

---

**작성자**: AI Assistant  
**최종 업데이트**: 2026-01-15
