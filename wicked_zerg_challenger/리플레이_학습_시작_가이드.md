# 리플레이 학습 시작 가이드

**작성 일시**: 2026-01-19  
**상태**: ? **리플레이 학습 시작됨**

---

## ? 학습 대상

### 경로
- **리플레이 디렉토리**: `D:\replays\replays`
- **리플레이 파일 수**: 48개
- **스캔 방식**: 재귀적 스캔 (하위 디렉토리 포함)

---

## ? 실행 방법

### 방법 1: 직접 실행
```bash
cd wicked_zerg_challenger
python local_training\scripts\replay_build_order_learner.py
```

### 방법 2: 환경 변수 설정 후 실행
```bash
cd wicked_zerg_challenger
set REPLAY_ARCHIVE_DIR=D:\replays\replays
set MAX_REPLAYS_FOR_LEARNING=1000
python local_training\scripts\replay_build_order_learner.py
```

### 방법 3: 배치 파일 사용
```bash
bat\start_replay_learning.bat
```

---

## ? 학습 프로세스

### 1. 리플레이 스캔
- `D:\replays\replays` 디렉토리에서 `.SC2Replay` 파일 재귀적 검색
- Zerg 플레이어 리플레이 필터링
- 프로게이머 리플레이 우선 처리

### 2. 빌드오더 추출
- 가스 추출 시점 (gas_supply)
- 산란못 건설 시점 (spawning_pool_supply)
- 멀티 확장 시점 (natural_expansion_supply)
- 기타 테크 건물 시점

### 3. 통계 분석
- 각 파라미터의 평균값 계산
- 표준편차 계산
- 프로게이머 기준값 도출

### 4. 학습 데이터 저장
- **저장 위치**: `local_training/scripts/learned_build_orders.json`
- **아카이브**: `D:\replays\archive\training_YYYYMMDD_HHMMSS\learned_build_orders.json`

---

## ? 학습 결과 확인

### 학습률 확인
```bash
python tools\show_learning_rate.py
```

### 학습된 파라미터 확인
```bash
python -c "import json; from pathlib import Path; f = Path('local_training/scripts/learned_build_orders.json'); print(json.dumps(json.load(open(f, encoding='utf-8')), indent=2, ensure_ascii=False)) if f.exists() else print('Not found')"
```

---

## ?? 설정 옵션

### 환경 변수
- `REPLAY_ARCHIVE_DIR`: 리플레이 디렉토리 경로 (기본값: `D:\replays\replays`)
- `MAX_REPLAYS_FOR_LEARNING`: 최대 학습 리플레이 수 (기본값: 300)

### 학습 옵션
- **재귀적 스캔**: 하위 디렉토리 포함
- **프로게이머 필터링**: Zerg 프로게이머 리플레이 우선
- **크래시 복구**: 자동 재시작 기능

---

## ? 학습 로그

### 로그 파일 위치
- `D:\replays\replays\learning_log.txt` - 학습 진행 로그
- `D:\replays\replays\crash_log.json` - 크래시 추적
- `D:\replays\replays\.learning_tracking.json` - 학습 추적

---

## ? 완료 확인

학습이 완료되면:
1. `learned_build_orders.json` 파일 생성 확인
2. 학습된 파라미터가 `config.py`의 `get_learned_parameter()`로 자동 적용됨
3. `production_resilience.py`에서 자동 사용됨

---

**리플레이 학습이 시작되었습니다!** ?
